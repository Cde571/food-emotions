---
// Importa el layout principal
import Layout from "../layouts/Layout.astro";
---

<Layout title="Recipes">
  <section class="recipes-container mt-36">
    <h1 class="favorites-title">‚ù§Ô∏è Favorites</h1>
    
    <div class="search-bar">
      <input type="text" placeholder="Buscar..." class="search-input" />
      <select class="categories-dropdown">
        <option value="">Categories</option>
        <option value="desserts">Desserts</option>
        <option value="drinks">Drinks</option>
        <option value="lunch">Lunch</option>
        <option value="breakfast">Breakfast</option>
      </select>
      <button class="search-btn">üîç</button>
    </div>

    <h2 class="recent-title">Recent:</h2>
    <div class="recent-recipes gap-7">
      {['src/img/image (7).png', 'src/img/image (8).png', 'src/img/image (9).png', 'src/img/image (10).png'].map((img, index) => (
        <div data-index={index} class="recipe-item">
          <img src={img} alt={`Recipe ${index + 1}`} class="recipe-img" />
          <button class="delete-btn">üóëÔ∏è</button>
        </div>
      ))}
    </div>

    <p class="view-more" onclick="openModal()">View more...</p>

    <h2 class="lists-title">My lists:</h2>
    <div class="lists-grid">
      <div class="list-card" data-category="desserts">
        <img src="src/img/image 2.png" alt="Desserts" class="list-img" />
        <p class="list-name">Desserts</p>
      </div>
      <div class="list-card" data-category="drinks">
        <img src="src/img/malteadas 1.png" alt="Drinks" class="list-img" />
        <p class="list-name">Drinks</p>
      </div>
      <div class="list-card" data-category="lunch">
        <img src="src/img/image 3.png" alt="Lunch" class="list-img" />
        <p class="list-name">Lunch</p>
      </div>
      <div class="list-card" data-category="breakfast">
        <img src="src/img/image 4.png" alt="Breakfast" class="list-img" />
        <p class="list-name">Breakfast</p>
      </div>
    </div>

    <h2 class="recipe-day-title">‚≠ê Recipe of the day:</h2>
    <div class="recipe-of-the-day">
      <img src="src/img/image (11).png" alt="Korean Fried Chicken" class="day-recipe-img" />
      <div class="day-recipe-info">
        <h3>Korean fried chicken</h3>
        <button class="view-recipe-btn" onclick="openRecipeModal()">View recipe üòä</button>
      </div>
      <button class="favorite-day-btn">‚≠ê</button>
    </div>
  </section>

  <!-- Modal de receta detallada -->
  <div class="modal" id="recipe-modal">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal()">‚úñÔ∏è</button>
      <div class="modal-body">
        <!-- Imagen de la receta -->
        <img src="src/img/image (11).png" alt="Recipe Image" class="recipe-modal-img" />

        <!-- Informaci√≥n de la receta -->
        <div class="recipe-details">
          <h2 class="modal-title">Korean Fried Chicken</h2>
          
          <!-- Ingredientes -->
          <h3>Ingredientes:</h3>
          <ul class="ingredients-list">
            <li>1/2 kg de pollo</li>
            <li>2 cucharadas de salsa de soja</li>
            <li>1 cucharada de az√∫car</li>
            <li>... etc</li>
          </ul>
          
          <!-- Instrucciones -->
          <h3>Instrucciones:</h3>
          <ol class="instructions-list">
            <li>Mezcla todos los ingredientes en un taz√≥n.</li>
            <li>Cocina el pollo a fuego medio hasta que est√© dorado.</li>
            <li>... etc</li>
          </ol>
        </div>
      </div>
    </div>
  </div>


  <script src="/src/scripts/recipes.js" type="module" defer></script>
</Layout>

<style>
  .recipes-container {
  padding: 20px;
  background-color: #3B432B;
  color: #d180a2;
  border-radius: 10px;
}

.favorites-title {
  font-size: 1.5rem;
  margin-bottom: 10px;
}

.search-bar {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}

.search-input {
  flex: 1;
  padding: 8px;
  border-radius: 5px;
  border: none;
  color: #353535;
}

.categories-dropdown {
  padding: 8px;
  border-radius: 5px;
  border: none;
}

.search-btn {
  background-color: #2f3725;
  color: #353535;
  padding: 8px;
  border-radius: 5px;
  border: none;
  cursor: pointer;
}

.recent-title, .lists-title, .recipe-day-title {
  margin-top: 20px;
  font-size: 1.2rem;
}

.recent-recipes {
  display: flex;
  gap: 10px;
  margin-top: 10px;
}

.recipe-item {
  position: relative;
  width: 80px;
  height: 80px;
  border-radius: 10px;
  overflow: hidden;
}

.recipe-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.favorite-btn, .delete-btn {
  position: absolute;
  bottom: 5px;
  background: rgba(0, 0, 0, 0.5);
  border: none;
  color: white;
  padding: 5px;
  border-radius: 50%;
  cursor: pointer;
}

.favorite-btn {
  left: 5px;
}

.delete-btn {
  right: 5px;
}

.view-more {
  text-align: right;
  margin-top: 10px;
  color: #a3d2ca;
  cursor: pointer;
}

.lists-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  margin-top: 10px;
}

.list-card {
  background: #ffffff;
  color: #333;
  border-radius: 10px;
  overflow: hidden;
  text-align: center;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
}

.list-img {
  width: 100%;
  height: 120px;
  object-fit: cover;
}

.list-name {
  padding: 10px;
}

.recipe-of-the-day {
  display: flex;
  align-items: center;
  background: #ffffff;
  color: #333;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 20px;
  padding: 10px;
}

.day-recipe-img {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 10px;
}

.day-recipe-info {
  flex: 1;
  margin-left: 10px;
}

.view-recipe-btn {
  background-color: #2f3725;
  color: #ffffff;
  padding: 5px 10px;
  border-radius: 5px;
  border: none;
  cursor: pointer;
}

.favorite-day-btn {
  background: none;
  border: none;
  color: #ffcc00;
  font-size: 1.5rem;
  cursor: pointer;
}

/* Estilos para el modal */
.modal {
  display: none; /* Oculto por defecto */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.modal.show {
  display: flex; /* Mostrar cuando se activa la clase `show` */
}

.modal-content {
  background-color: #ffffff;
  padding: 20px;
  border-radius: 10px;
  max-width: 400px;
  width: 80%;
  text-align: center;
  position: relative;
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
}

.modal-title {
  font-size: 1.5rem;
  margin-bottom: 10px;
}
/* Estilos del Modal de la Galer√≠a */
.gallery-modal {
  display: none; /* Oculto por defecto */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8); /* Fondo oscuro */
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.gallery-modal.show {
  display: flex; /* Mostrar cuando se activa */
}

.gallery-content {
  background-color: #ffffff;
  padding: 20px;
  border-radius: 10px;
  max-width: 800px;
  width: 90%;
  text-align: center;
  position: relative;
}

.close-gallery-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
}

.gallery-title {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #3B432B;
}

.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 15px;
}

.gallery-item {
  border-radius: 10px;
  overflow: hidden;
}

.gallery-img {
  width: 100%;
  height: auto;
  object-fit: cover;
}


</style>
