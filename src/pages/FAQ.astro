---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";

// Definición de la interfaz de preguntas
interface FAQItem {
  question: string;
  answer: string;
}

// Nuevas FAQ reelaboradas profesionalmente
const faqs: FAQItem[] = [
  {
    question: "¿Quién es Roy y cuál es su propósito?",
    answer:
      "Roy es un chatbot emocionalmente inteligente diseñado para acompañarte en tu bienestar diario. Detecta tu estado emocional, conversa contigo y te ofrece recomendaciones personalizadas en áreas como recetas saludables, música para regular tus emociones y libros que fortalecen tu salud mental.",
  },
  {
    question: "¿Qué tipo de conocimiento maneja Roy?",
    answer:
      "Roy está entrenado con un conjunto curado de información que abarca tres áreas principales: recetas, música y libros. Aunque su base de conocimientos es precisa y optimizada, se expande continuamente según avances del proyecto y las necesidades de los usuarios.",
  },
  {
    question: "¿Cuál es el enfoque principal del proyecto?",
    answer:
      "El enfoque inicial está en generar bienestar emocional a través del contenido: recetas nutritivas, música alineada a tu ánimo y libros que aportan calma, crecimiento y estabilidad mental. Más adelante se integrarán nuevas áreas como ejercicios mentales, rutinas de respiración, mindfulness y más.",
  },
  {
    question: "¿Quién puede usar este bot?",
    answer:
      "Cualquier persona que desee mejorar su salud emocional, su estilo de vida o que simplemente quiera un espacio seguro para expresarse y recibir recomendaciones personalizadas.",
  },
  {
    question: "¿Existen límites de uso o tiempo?",
    answer:
      "No. Roy está disponible 24/7 para acompañarte. Puedes hablar con él el tiempo que quieras, pedirle todas las recomendaciones que necesites o simplemente desahogarte.",
  },
  {
    question: "¿Cómo puedo empezar?",
    answer:
      "Ingresa en la opción “Try now” o “Pruébalo ahora” en la página principal. Allí obtendrás una guia más detallada sobre cómo interactuar con Roy. Inicia sesión y accede a todas sus funciones.",
  },
];
---
<Layout title="FAQ">
  <Header />

  <section class="relative faq-section max-w-4xl mx-auto p-10 mt-44 rounded-3xl shadow-xl">
    <h2 class="text-4xl font-bold mb-6 text-white text-center tracking-tight">Preguntas Frecuentes</h2>

    <p class="text-gray-200 text-center max-w-2xl mx-auto mb-10 text-lg">
      Aquí encontrarás respuestas claras sobre Roy, sus funciones y cómo puede acompañarte a mejorar
      tu bienestar emocional a través de recomendaciones personalizadas.
    </p>

    <div class="faq-container space-y-4">
      {faqs.map((faq, index) => (
        <div
          class="faq-item bg-white/10 backdrop-blur-md border border-white/10 rounded-2xl p-6 cursor-pointer transition duration-300"
          onclick={`toggleFAQ(${index})`}
        >
          <div class="flex items-center justify-between">
            <h3 class="text-xl font-semibold text-white">{faq.question}</h3>
            <span id={`icon-${index}`} class="text-white text-2xl transition">+</span>
          </div>
          <p
            id={`answer-${index}`}
            class="faq-answer text-gray-200 mt-3 hidden leading-relaxed"
          >
            {faq.answer}
          </p>
        </div>
      ))}
    </div>
  </section>
</Layout>

<!-- ============================
     ⭐ ESTILOS GLOBALES
=============================== -->
<style is:global>
  .faq-section {
    background: linear-gradient(135deg, #425638 0%, #687450 100%);
  }

  .faq-item:hover {
    transform: translateY(-4px);
    box-shadow: 0 10px 28px rgba(0, 0, 0, 0.25);
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>

<!-- ============================
     ⭐ SCRIPT: EXPANDIR / COLAPSAR FAQ
=============================== -->
<script is:inline>
  function toggleFAQ(index) {
    const answer = document.getElementById(`answer-${index}`);
    const icon = document.getElementById(`icon-${index}`);

    if (answer.classList.contains("hidden")) {
      answer.classList.remove("hidden");
      answer.style.animation = "fadeIn 0.3s ease";
      icon.textContent = "−";
    } else {
      answer.classList.add("hidden");
      icon.textContent = "+";
    }
  }
</script>
